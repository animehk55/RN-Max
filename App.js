import React, { Component } from "react";
import { StyleSheet, View } from "react-native";

import PlaceInput from "./src/components/PlaceInput/PlaceInput";
import PlaceList from "./src/components/PlaceList/PlaceList";
import placeImage from './src/assets/success-kid.png';

export default class App extends Component {
  state = {
    places: []
  };

  // placeAddedHandler = placeName => {
  //   this.setState(prevState => {
  //     return {
  //       places: prevState.places.concat({
  //       key: Math.random(),
  //       value: placeName,
  //       image: placeImage
  //       })
  //     };
  //   });
  // };


  // web image fetching
  placeAddedHandler = placeName => {
    this.setState(prevState => {
      return {
        places: prevState.places.concat({
        key: Math.random(),
        value: placeName,
        image: {
          uri: "data:image/jpeg;base64,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"
        }
        })
      };
    });
  };


  placeDeletedHandler = key => {
    this.setState(prevState => {
      return {
        places: prevState.places.filter(place => {
          return place.key !== key;
        })
      };
    });
  };

  render() {
    return (
      <View style={styles.container}>
        <PlaceInput onPlaceAdded={this.placeAddedHandler} />
        <PlaceList
          places={this.state.places}
          onItemDeleted={this.placeDeletedHandler}
        />
      </View>
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 26,
    backgroundColor: "#fff",
    alignItems: "center",
    justifyContent: "flex-start"
  }
});